// This file is automatically generated, so please do not edit it.
// Generated by `flutter_rust_bridge`@ 2.0.0-dev.31.

// ignore_for_file: invalid_use_of_internal_member, unused_import, unnecessary_import

import '../frb_generated.dart';
import 'blockchain.dart';
import 'error.dart';
import 'key.dart';
import 'package:flutter_rust_bridge/flutter_rust_bridge_for_generated.dart';
import 'types.dart';

// Rust type: RustOpaqueNom<ExtendedDescriptor>
@sealed
class ExtendedDescriptor extends RustOpaque {
  ExtendedDescriptor.dcoDecode(List<dynamic> wire)
      : super.dcoDecode(wire, _kStaticData);

  ExtendedDescriptor.sseDecode(int ptr, int externalSizeOnNative)
      : super.sseDecode(ptr, externalSizeOnNative, _kStaticData);

  static final _kStaticData = RustArcStaticData(
    rustArcIncrementStrongCount:
        BdkCore.instance.api.rust_arc_increment_strong_count_ExtendedDescriptor,
    rustArcDecrementStrongCount:
        BdkCore.instance.api.rust_arc_decrement_strong_count_ExtendedDescriptor,
    rustArcDecrementStrongCountPtr: BdkCore
        .instance.api.rust_arc_decrement_strong_count_ExtendedDescriptorPtr,
  );
}

// Rust type: RustOpaqueNom<keys :: DescriptorPublicKey>
@sealed
class KeysDescriptorPublicKey extends RustOpaque {
  KeysDescriptorPublicKey.dcoDecode(List<dynamic> wire)
      : super.dcoDecode(wire, _kStaticData);

  KeysDescriptorPublicKey.sseDecode(int ptr, int externalSizeOnNative)
      : super.sseDecode(ptr, externalSizeOnNative, _kStaticData);

  static final _kStaticData = RustArcStaticData(
    rustArcIncrementStrongCount: BdkCore
        .instance.api.rust_arc_increment_strong_count_KeysDescriptorPublicKey,
    rustArcDecrementStrongCount: BdkCore
        .instance.api.rust_arc_decrement_strong_count_KeysDescriptorPublicKey,
    rustArcDecrementStrongCountPtr: BdkCore.instance.api
        .rust_arc_decrement_strong_count_KeysDescriptorPublicKeyPtr,
  );
}

// Rust type: RustOpaqueNom<keys :: DescriptorSecretKey>
@sealed
class KeysDescriptorSecretKey extends RustOpaque {
  KeysDescriptorSecretKey.dcoDecode(List<dynamic> wire)
      : super.dcoDecode(wire, _kStaticData);

  KeysDescriptorSecretKey.sseDecode(int ptr, int externalSizeOnNative)
      : super.sseDecode(ptr, externalSizeOnNative, _kStaticData);

  static final _kStaticData = RustArcStaticData(
    rustArcIncrementStrongCount: BdkCore
        .instance.api.rust_arc_increment_strong_count_KeysDescriptorSecretKey,
    rustArcDecrementStrongCount: BdkCore
        .instance.api.rust_arc_decrement_strong_count_KeysDescriptorSecretKey,
    rustArcDecrementStrongCountPtr: BdkCore.instance.api
        .rust_arc_decrement_strong_count_KeysDescriptorSecretKeyPtr,
  );
}

// Rust type: RustOpaqueNom<keys :: KeyMap>
@sealed
class KeysKeyMap extends RustOpaque {
  KeysKeyMap.dcoDecode(List<dynamic> wire)
      : super.dcoDecode(wire, _kStaticData);

  KeysKeyMap.sseDecode(int ptr, int externalSizeOnNative)
      : super.sseDecode(ptr, externalSizeOnNative, _kStaticData);

  static final _kStaticData = RustArcStaticData(
    rustArcIncrementStrongCount:
        BdkCore.instance.api.rust_arc_increment_strong_count_KeysKeyMap,
    rustArcDecrementStrongCount:
        BdkCore.instance.api.rust_arc_decrement_strong_count_KeysKeyMap,
    rustArcDecrementStrongCountPtr:
        BdkCore.instance.api.rust_arc_decrement_strong_count_KeysKeyMapPtr,
  );
}

class BdkDescriptor {
  final ExtendedDescriptor extendedDescriptor;
  final KeysKeyMap keyMap;

  const BdkDescriptor({
    required this.extendedDescriptor,
    required this.keyMap,
  });

  Future<String> asString({dynamic hint}) =>
      BdkCore.instance.api.bdkDescriptorAsString(that: this, hint: hint);

  Future<String> asStringPrivate({dynamic hint}) =>
      BdkCore.instance.api.bdkDescriptorAsStringPrivate(that: this, hint: hint);

  Future<int> maxSatisfactionWeight({dynamic hint}) => BdkCore.instance.api
      .bdkDescriptorMaxSatisfactionWeight(that: this, hint: hint);

  // HINT: Make it `#[frb(sync)]` to let it become the default constructor of Dart class.
  static Future<BdkDescriptor> newInstance(
          {required String descriptor,
          required Network network,
          dynamic hint}) =>
      BdkCore.instance.api.bdkDescriptorNew(
          descriptor: descriptor, network: network, hint: hint);

  static Future<BdkDescriptor> newBip44(
          {required BdkDescriptorSecretKey secretKey,
          required KeychainKind keychainKind,
          required Network network,
          dynamic hint}) =>
      BdkCore.instance.api.bdkDescriptorNewBip44(
          secretKey: secretKey,
          keychainKind: keychainKind,
          network: network,
          hint: hint);

  static Future<BdkDescriptor> newBip44Public(
          {required BdkDescriptorPublicKey publicKey,
          required String fingerprint,
          required KeychainKind keychainKind,
          required Network network,
          dynamic hint}) =>
      BdkCore.instance.api.bdkDescriptorNewBip44Public(
          publicKey: publicKey,
          fingerprint: fingerprint,
          keychainKind: keychainKind,
          network: network,
          hint: hint);

  static Future<BdkDescriptor> newBip49(
          {required BdkDescriptorSecretKey secretKey,
          required KeychainKind keychainKind,
          required Network network,
          dynamic hint}) =>
      BdkCore.instance.api.bdkDescriptorNewBip49(
          secretKey: secretKey,
          keychainKind: keychainKind,
          network: network,
          hint: hint);

  static Future<BdkDescriptor> newBip49Public(
          {required BdkDescriptorPublicKey publicKey,
          required String fingerprint,
          required KeychainKind keychainKind,
          required Network network,
          dynamic hint}) =>
      BdkCore.instance.api.bdkDescriptorNewBip49Public(
          publicKey: publicKey,
          fingerprint: fingerprint,
          keychainKind: keychainKind,
          network: network,
          hint: hint);

  static Future<BdkDescriptor> newBip84(
          {required BdkDescriptorSecretKey secretKey,
          required KeychainKind keychainKind,
          required Network network,
          dynamic hint}) =>
      BdkCore.instance.api.bdkDescriptorNewBip84(
          secretKey: secretKey,
          keychainKind: keychainKind,
          network: network,
          hint: hint);

  static Future<BdkDescriptor> newBip84Public(
          {required BdkDescriptorPublicKey publicKey,
          required String fingerprint,
          required KeychainKind keychainKind,
          required Network network,
          dynamic hint}) =>
      BdkCore.instance.api.bdkDescriptorNewBip84Public(
          publicKey: publicKey,
          fingerprint: fingerprint,
          keychainKind: keychainKind,
          network: network,
          hint: hint);

  static Future<BdkDescriptor> newBip86(
          {required BdkDescriptorSecretKey secretKey,
          required KeychainKind keychainKind,
          required Network network,
          dynamic hint}) =>
      BdkCore.instance.api.bdkDescriptorNewBip86(
          secretKey: secretKey,
          keychainKind: keychainKind,
          network: network,
          hint: hint);

  static Future<BdkDescriptor> newBip86Public(
          {required BdkDescriptorPublicKey publicKey,
          required String fingerprint,
          required KeychainKind keychainKind,
          required Network network,
          dynamic hint}) =>
      BdkCore.instance.api.bdkDescriptorNewBip86Public(
          publicKey: publicKey,
          fingerprint: fingerprint,
          keychainKind: keychainKind,
          network: network,
          hint: hint);

  @override
  int get hashCode => extendedDescriptor.hashCode ^ keyMap.hashCode;

  @override
  bool operator ==(Object other) =>
      identical(this, other) ||
      other is BdkDescriptor &&
          runtimeType == other.runtimeType &&
          extendedDescriptor == other.extendedDescriptor &&
          keyMap == other.keyMap;
}
